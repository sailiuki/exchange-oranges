<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä»·å€¼è§‚çº æ­£å™¨</title>
    
    <!-- Favicon å®Œæ•´æ”¯æŒ -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="icon" type="image/x-icon" href="favicon/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="favicon/favicon.ico">
    <meta name="theme-color" content="#667eea">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XEZ049M5R2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XEZ049M5R2');
    </script>
    
    <style>
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .container {
            padding: 50px;
            text-align: center;
            transform: scale(1.3);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .field {
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        select {
            padding: 15px 45px 15px 20px;
            font-size: 16px;
            border: 2px solid #e1e8ff;
            border-radius: 12px;
            background: linear-gradient(145deg, #ffffff, #f0f4ff);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
            min-width: 140px;
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23667eea' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-size: 16px 16px;
            background-position: calc(100% - 15px) center;
            background-repeat: no-repeat;
        }
        
        select:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15);
        }
        
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        select option {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            font-size: 16px;
            border: none;
            margin: 2px 0;
        }
        
        select option:hover {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
        }
        
        select option:checked {
            background: linear-gradient(145deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
        }
        
        select optgroup {
            font-weight: bold;
            font-size: 14px;
            color: #667eea;
            background: #f0f4ff;
            padding: 8px 12px;
            margin: 4px 0;
        }
        
        input {
            width: 220px;
            padding: 15px 20px;
            font-size: 16px;
            border: 2px solid #e1e8ff;
            border-radius: 12px;
            background: linear-gradient(145deg, #ffffff, #f9fbff);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            text-align: right;
            font-weight: 500;
        }
        
        input:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15);
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        input::placeholder {
            color: #a0a0a0;
            font-weight: normal;
        }
        
        h1 {
            font-size: 2.8em;
            margin-bottom: 20px;
            margin-top: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 600;
            letter-spacing: -0.5px;
        }
        
        .author {
            font-size: 0.8em;
            margin-bottom: 30px;
            margin-top: -15px !important;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-weight: 500;
            display: block;
        }
        
        .author:hover {
            color: #764ba2;
            transform: translateY(-2px);
            text-shadow: 0 4px 10px rgba(102, 126, 234, 0.3);
        }
        
        /* ç§»åŠ¨ç«¯å“åº”å¼è®¾è®¡ */
        @media screen and (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 30px 20px;
                transform: scale(1);
                margin: 10px;
                border-radius: 15px;
            }
            
            h1 {
                font-size: 2.2em;
                margin-bottom: 15px;
                margin-top: 5px;
            }
            
            .author {
                font-size: 0.7em;
                margin-top: -10px;
                margin-bottom: 25px;
            }
            
            .field {
                margin: 15px 0;
                flex-direction: row;
                align-items: center;
                gap: 12px;
            }
            
            select {
                min-width: 130px;
                width: 40%;
                padding: 10px 35px 10px 12px;
                font-size: 13px;
                margin-bottom: 0;
            }
            
            input {
                width: 55%;
                padding: 10px 12px;
                font-size: 16px;
                text-align: right;
            }
        }
        
        @media screen and (max-width: 480px) {
            .container {
                padding: 20px 15px;
                margin: 5px;
            }
            
            h1 {
                font-size: 1.8em;
                margin-bottom: 12px;
            }
            
            .author {
                font-size: 0.6em;
                margin-top: -8px;
                margin-bottom: 20px;
            }
            
            .field {
                margin: 10px 0;
                gap: 8px;
            }
            
            select {
                min-width: 110px;
                width: 50%;
                padding: 8px 30px 8px 10px;
                font-size: 12px;
            }
            
            input {
                width: 46%;
                padding: 8px 10px;
                font-size: 16px;
                text-align: right;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä»·å€¼è§‚çº æ­£å™¨</h1>
        <a href="https://x.com/Wolfy_XBT" target="_blank" class="author">ä½œè€…ï¼šæ€ç ´ç‹¼ @Wolfy_XBT</a>
        
        <div class="field">
        <select id="currency1">
            <optgroup label="åŠ å¯†è´§å¸">
                <option value="BTC" selected>ğŸŸ  BTC</option>
                <option value="ETH">â™¦ï¸ ETH</option>
                <option value="SOL">ğŸŸ£ SOL</option>
                <option value="BNB">ğŸŸ¡ BNB</option>
            </optgroup>
            <optgroup label="æ³•å¸">
                <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
                <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
                <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
                <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
            </optgroup>
            <optgroup label="å®ç‰©">
                <option value="ZHUJIAO">ğŸš çŒªè„šé¥­</option>
                <option value="KFC">ğŸ— KFC</option>
                <option value="IN11">ğŸ’ƒ in11å«©æ¨¡</option>
                <option value="IPHONE17">ğŸ“± iPhone17</option>
                <option value="MACBOOK">ğŸ’» MacBook Air</option>
                <option value="ROLEX">âŒš Rolex</option>
                <option value="XIAOMISU7">ğŸï¸ Xiaomi Su7</option>
                <option value="PORSCHE">ğŸï¸ Porsche 718</option>
                <option value="FERRARI">ğŸï¸ Ferrari Roma</option>
            </optgroup>
        </select>
        <input type="text" id="amount1" placeholder="è¾“å…¥é‡‘é¢">
    </div>
    
    <div class="field">
        <select id="currency2">
            <optgroup label="åŠ å¯†è´§å¸">
                <option value="BTC">ğŸŸ  BTC</option>
                <option value="ETH" selected>â™¦ï¸ ETH</option>
                <option value="SOL">ğŸŸ£ SOL</option>
                <option value="BNB">ğŸŸ¡ BNB</option>
            </optgroup>
            <optgroup label="æ³•å¸">
                <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
                <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
                <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
                <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
            </optgroup>
            <optgroup label="å®ç‰©">
                <option value="ZHUJIAO">ğŸš çŒªè„šé¥­</option>
                <option value="KFC">ğŸ— KFC</option>
                <option value="IN11">ğŸ’ƒ in11å«©æ¨¡</option>
                <option value="IPHONE17">ğŸ“± iPhone17</option>
                <option value="MACBOOK">ğŸ’» MacBook Air</option>
                <option value="ROLEX">âŒš Rolex</option>
                <option value="XIAOMISU7">ğŸï¸ Xiaomi Su7</option>
                <option value="PORSCHE">ğŸï¸ Porsche 718</option>
                <option value="FERRARI">ğŸï¸ Ferrari Roma</option>
            </optgroup>
        </select>
        <input type="text" id="amount2" placeholder="è¾“å…¥é‡‘é¢">
    </div>
    
    <div class="field">
        <select id="currency3">
            <optgroup label="åŠ å¯†è´§å¸">
                <option value="BTC">ğŸŸ  BTC</option>
                <option value="ETH">â™¦ï¸ ETH</option>
                <option value="SOL" selected>ğŸŸ£ SOL</option>
                <option value="BNB">ğŸŸ¡ BNB</option>
            </optgroup>
            <optgroup label="æ³•å¸">
                <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
                <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
                <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
                <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
            </optgroup>
            <optgroup label="å®ç‰©">
                <option value="ZHUJIAO">ğŸš çŒªè„šé¥­</option>
                <option value="KFC">ğŸ— KFC</option>
                <option value="IN11">ğŸ’ƒ in11å«©æ¨¡</option>
                <option value="IPHONE17">ğŸ“± iPhone17</option>
                <option value="MACBOOK">ğŸ’» MacBook Air</option>
                <option value="ROLEX">âŒš Rolex</option>
                <option value="XIAOMISU7">ğŸï¸ Xiaomi Su7</option>
                <option value="PORSCHE">ğŸï¸ Porsche 718</option>
                <option value="FERRARI">ğŸï¸ Ferrari Roma</option>
            </optgroup>
        </select>
        <input type="text" id="amount3" placeholder="è¾“å…¥é‡‘é¢">
    </div>
    
    <div class="field">
        <select id="currency4">
            <optgroup label="åŠ å¯†è´§å¸">
                <option value="BTC">ğŸŸ  BTC</option>
                <option value="ETH">â™¦ï¸ ETH</option>
                <option value="SOL">ğŸŸ£ SOL</option>
                <option value="BNB">ğŸŸ¡ BNB</option>
            </optgroup>
            <optgroup label="æ³•å¸">
                <option value="USD" selected>ğŸ‡ºğŸ‡¸ USD</option>
                <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
                <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
                <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
            </optgroup>
            <optgroup label="å®ç‰©">
                <option value="ZHUJIAO">ğŸš çŒªè„šé¥­</option>
                <option value="KFC">ğŸ— KFC</option>
                <option value="IN11">ğŸ’ƒ in11å«©æ¨¡</option>
                <option value="IPHONE17">ğŸ“± iPhone17</option>
                <option value="MACBOOK">ğŸ’» MacBook Air</option>
                <option value="ROLEX">âŒš Rolex</option>
                <option value="XIAOMISU7">ğŸï¸ Xiaomi Su7</option>
                <option value="PORSCHE">ğŸï¸ Porsche 718</option>
                <option value="FERRARI">ğŸï¸ Ferrari Roma</option>
            </optgroup>
        </select>
        <input type="text" id="amount4" placeholder="è¾“å…¥é‡‘é¢">
    </div>
    
    <div class="field">
        <select id="currency5">
            <optgroup label="åŠ å¯†è´§å¸">
                <option value="BTC">ğŸŸ  BTC</option>
                <option value="ETH">â™¦ï¸ ETH</option>
                <option value="SOL">ğŸŸ£ SOL</option>
                <option value="BNB">ğŸŸ¡ BNB</option>
            </optgroup>
            <optgroup label="æ³•å¸">
                <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
                <option value="CNY" selected>ğŸ‡¨ğŸ‡³ CNY</option>
                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
                <option value="HKD">ğŸ‡­ğŸ‡° HKD</option>
                <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
            </optgroup>
            <optgroup label="å®ç‰©">
                <option value="ZHUJIAO">ğŸš çŒªè„šé¥­</option>
                <option value="KFC">ğŸ— KFC</option>
                <option value="IN11">ğŸ’ƒ in11å«©æ¨¡</option>
                <option value="IPHONE17">ğŸ“± iPhone17</option>
                <option value="MACBOOK">ğŸ’» MacBook Air</option>
                <option value="ROLEX">âŒš Rolex</option>
                <option value="XIAOMISU7">ğŸï¸ Xiaomi Su7</option>
                <option value="PORSCHE">ğŸï¸ Porsche 718</option>
                <option value="FERRARI">ğŸï¸ Ferrari Roma</option>
            </optgroup>
        </select>
        <input type="text" id="amount5" placeholder="è¾“å…¥é‡‘é¢">
    </div>
    
    <div class="field">
        <select id="currency6">
            <optgroup label="åŠ å¯†è´§å¸">
                <option value="BTC">ğŸŸ  BTC</option>
                <option value="ETH">â™¦ï¸ ETH</option>
                <option value="SOL">ğŸŸ£ SOL</option>
                <option value="BNB">ğŸŸ¡ BNB</option>
            </optgroup>
            <optgroup label="æ³•å¸">
                <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
                <option value="CNY">ğŸ‡¨ğŸ‡³ CNY</option>
                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                <option value="KRW">ğŸ‡°ğŸ‡· KRW</option>
                <option value="SGD">ğŸ‡¸ğŸ‡¬ SGD</option>
                <option value="AED">ğŸ‡¦ğŸ‡ª AED</option>
                <option value="HKD" selected>ğŸ‡­ğŸ‡° HKD</option>
                <option value="MYR">ğŸ‡²ğŸ‡¾ MYR</option>
            </optgroup>
            <optgroup label="å®ç‰©">
                <option value="ZHUJIAO">ğŸš çŒªè„šé¥­</option>
                <option value="KFC">ğŸ— KFC</option>
                <option value="IN11">ğŸ’ƒ in11å«©æ¨¡</option>
                <option value="IPHONE17">ğŸ“± iPhone17</option>
                <option value="MACBOOK">ğŸ’» MacBook Air</option>
                <option value="ROLEX">âŒš Rolex</option>
                <option value="XIAOMISU7">ğŸï¸ Xiaomi Su7</option>
                <option value="PORSCHE">ğŸï¸ Porsche 718</option>
                <option value="FERRARI">ğŸï¸ Ferrari Roma</option>
            </optgroup>
        </select>
        <input type="text" id="amount6" placeholder="è¾“å…¥é‡‘é¢">
    </div>

    <script>
        let rates = {};
        let updating = false;
        let lastInputField = 1; // è®°å½•æœ€åä¸€æ¬¡è¾“å…¥æ•°å­—çš„æ ä½
        
        // è·å–çœŸå®æ±‡ç‡
        async function loadRates() {
            try {
                // è·å–åŠ å¯†è´§å¸ä»·æ ¼ (USD)
                const cryptoResponse = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,solana,binancecoin&vs_currencies=usd');
                const cryptoData = await cryptoResponse.json();
                
                // è·å–æ³•å¸æ±‡ç‡ (USDåŸºå‡†)
                const fiatResponse = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                const fiatData = await fiatResponse.json();
                
                const btcPrice = cryptoData.bitcoin.usd;
                const ethPrice = cryptoData.ethereum.usd;
                const solPrice = cryptoData.solana.usd;
                const bnbPrice = cryptoData.binancecoin.usd;
                
                const currencies = ['CNY', 'JPY', 'KRW', 'SGD', 'AED', 'HKD', 'MYR'];
                const cryptos = ['BTC', 'ETH', 'SOL', 'BNB'];
                const products = ['ZHUJIAO', 'KFC', 'IN11', 'IPHONE17', 'FERRARI', 'PORSCHE', 'XIAOMISU7', 'ROLEX', 'MACBOOK'];
                const cryptoPrices = { BTC: btcPrice, ETH: ethPrice, SOL: solPrice, BNB: bnbPrice };
                const productPrices = { 
                    ZHUJIAO: 20 / fiatData.rates.CNY,       // 20 CNY è½¬æ¢ä¸º USD
                    KFC: 50 / fiatData.rates.CNY,           // 50 CNY è½¬æ¢ä¸º USD
                    IN11: 3000 / fiatData.rates.CNY,        // 3000 CNY è½¬æ¢ä¸º USD
                    IPHONE17: 799,                          // 799 USD
                    FERRARI: 1750000 / fiatData.rates.CNY,  // 1,750,000 CNY è½¬æ¢ä¸º USD
                    PORSCHE: 550000 / fiatData.rates.CNY,   // 550,000 CNY è½¬æ¢ä¸º USD
                    XIAOMISU7: 215900 / fiatData.rates.CNY, // 215,900 CNY è½¬æ¢ä¸º USD
                    ROLEX: 56500 / fiatData.rates.CNY,      // 56,500 CNY è½¬æ¢ä¸º USD
                    MACBOOK: 999                            // 999 USD
                };
                
                rates = {};
                
                // æ„å»ºæ±‡ç‡çŸ©é˜µ
                const allCurrencies = [...cryptos, 'USD', ...currencies, ...products];
                allCurrencies.forEach(from => {
                    rates[from] = {};
                    allCurrencies.forEach(to => {
                        if (from === to) {
                            rates[from][to] = 1;
                        } else if (cryptos.includes(from) && cryptos.includes(to)) {
                            // åŠ å¯†è´§å¸ä¹‹é—´
                            rates[from][to] = cryptoPrices[from] / cryptoPrices[to];
                        } else if (cryptos.includes(from) && to === 'USD') {
                            // åŠ å¯†è´§å¸åˆ°ç¾å…ƒ
                            rates[from][to] = cryptoPrices[from];
                        } else if (from === 'USD' && cryptos.includes(to)) {
                            // ç¾å…ƒåˆ°åŠ å¯†è´§å¸
                            rates[from][to] = 1 / cryptoPrices[to];
                        } else if (cryptos.includes(from) && currencies.includes(to)) {
                            // åŠ å¯†è´§å¸åˆ°å…¶ä»–æ³•å¸
                            rates[from][to] = cryptoPrices[from] * fiatData.rates[to];
                        } else if (currencies.includes(from) && cryptos.includes(to)) {
                            // å…¶ä»–æ³•å¸åˆ°åŠ å¯†è´§å¸
                            rates[from][to] = 1 / (cryptoPrices[to] * fiatData.rates[from]);
                        } else if (from === 'USD' && currencies.includes(to)) {
                            // ç¾å…ƒåˆ°å…¶ä»–æ³•å¸
                            rates[from][to] = fiatData.rates[to];
                        } else if (currencies.includes(from) && to === 'USD') {
                            // å…¶ä»–æ³•å¸åˆ°ç¾å…ƒ
                            rates[from][to] = 1 / fiatData.rates[from];
                        } else if (currencies.includes(from) && currencies.includes(to)) {
                            // æ³•å¸ä¹‹é—´
                            rates[from][to] = fiatData.rates[to] / fiatData.rates[from];
                        } else if (products.includes(from) && to === 'USD') {
                            // äº§å“åˆ°ç¾å…ƒ (1 iPhone17 = 799 USD)
                            rates[from][to] = productPrices[from];
                        } else if (from === 'USD' && products.includes(to)) {
                            // ç¾å…ƒåˆ°äº§å“ (1 USD = 1/799 iPhone17)
                            rates[from][to] = 1 / productPrices[to];
                        } else if (products.includes(from) && currencies.includes(to)) {
                            // äº§å“åˆ°å…¶ä»–æ³•å¸
                            rates[from][to] = productPrices[from] * fiatData.rates[to];
                        } else if (currencies.includes(from) && products.includes(to)) {
                            // å…¶ä»–æ³•å¸åˆ°äº§å“
                            rates[from][to] = 1 / (productPrices[to] * fiatData.rates[from]);
                        } else if (cryptos.includes(from) && products.includes(to)) {
                            // åŠ å¯†è´§å¸åˆ°äº§å“
                            rates[from][to] = cryptoPrices[from] / productPrices[to];
                        } else if (products.includes(from) && cryptos.includes(to)) {
                            // äº§å“åˆ°åŠ å¯†è´§å¸
                            rates[from][to] = productPrices[from] / cryptoPrices[to];
                        } else if (products.includes(from) && products.includes(to)) {
                            // äº§å“ä¹‹é—´
                            rates[from][to] = productPrices[from] / productPrices[to];
                        }
                    });
                });
                
                console.log('æ±‡ç‡åŠ è½½æˆåŠŸ:', rates);
            } catch (error) {
                console.error('æ±‡ç‡åŠ è½½å¤±è´¥:', error);
                // ä½¿ç”¨å¤‡ç”¨æ±‡ç‡
                rates = {
                    BTC: { USD: 65000, ETH: 24.5, SOL: 300, BNB: 100, CNY: 460000, JPY: 9500000, KRW: 87000000, SGD: 87000, AED: 240000, HKD: 507000, MYR: 280000, ZHUJIAO: 23000, KFC: 9200, IN11: 153.3, IPHONE17: 81.35, FERRARI: 0.26, PORSCHE: 0.83, XIAOMISU7: 2.13, ROLEX: 8.15, MACBOOK: 65.07 },
                    ETH: { USD: 2650, BTC: 0.041, SOL: 12, BNB: 4.1, CNY: 18800, JPY: 390000, KRW: 3550000, SGD: 3550, AED: 9750, HKD: 20670, MYR: 11400, ZHUJIAO: 940, KFC: 376, IN11: 6.27, IPHONE17: 3.32, FERRARI: 0.011, PORSCHE: 0.034, XIAOMISU7: 0.087, ROLEX: 0.33, MACBOOK: 2.65 },
                    SOL: { USD: 220, BTC: 0.0034, ETH: 0.083, BNB: 0.34, CNY: 1560, JPY: 32400, KRW: 295000, SGD: 295, AED: 810, HKD: 1716, MYR: 950, ZHUJIAO: 78, KFC: 31.2, IN11: 0.52, IPHONE17: 0.275, FERRARI: 0.00089, PORSCHE: 0.0028, XIAOMISU7: 0.0072, ROLEX: 0.0276, MACBOOK: 0.22 },
                    BNB: { USD: 650, BTC: 0.01, ETH: 0.245, SOL: 2.95, CNY: 4600, JPY: 95700, KRW: 872000, SGD: 872, AED: 2390, HKD: 5070, MYR: 2800, ZHUJIAO: 230, KFC: 92, IN11: 1.53, IPHONE17: 0.814, FERRARI: 0.0026, PORSCHE: 0.0084, XIAOMISU7: 0.021, ROLEX: 0.082, MACBOOK: 0.65 },
                    USD: { BTC: 0.0000154, ETH: 0.00038, SOL: 0.0045, BNB: 0.0015, CNY: 7.1, JPY: 147, KRW: 1340, SGD: 1.34, AED: 3.67, HKD: 7.8, MYR: 4.3, ZHUJIAO: 0.35, KFC: 0.14, IN11: 0.0024, IPHONE17: 0.00125, FERRARI: 0.0000041, PORSCHE: 0.000013, XIAOMISU7: 0.000033, ROLEX: 0.000126, MACBOOK: 0.001 },
                    CNY: { USD: 0.141, BTC: 0.00000217, ETH: 0.000053, SOL: 0.00064, BNB: 0.00022, JPY: 20.7, KRW: 189, SGD: 0.189, AED: 0.52, HKD: 1.1, MYR: 0.61, ZHUJIAO: 0.05, KFC: 0.02, IN11: 0.00033, IPHONE17: 0.000176, FERRARI: 0.00000057, PORSCHE: 0.0000018, XIAOMISU7: 0.0000046, ROLEX: 0.0000177, MACBOOK: 0.000141 },
                    HKD: { USD: 0.128, BTC: 0.00000197, ETH: 0.0000484, SOL: 0.000583, BNB: 0.0002, CNY: 0.91, JPY: 18.8, KRW: 172, SGD: 0.172, AED: 0.47, MYR: 0.55, ZHUJIAO: 0.046, KFC: 0.018, IN11: 0.0003, IPHONE17: 0.00016, FERRARI: 0.00000052, PORSCHE: 0.0000016, XIAOMISU7: 0.0000042, ROLEX: 0.0000161, MACBOOK: 0.000128 },
                    JPY: { USD: 0.0068, BTC: 0.000000105, ETH: 0.0000026, SOL: 0.000031, BNB: 0.0000104, CNY: 0.048, KRW: 9.1, SGD: 0.009, AED: 0.025, HKD: 0.053, MYR: 0.029, ZHUJIAO: 0.0024, KFC: 0.00096, IN11: 0.000016, IPHONE17: 0.0000085, FERRARI: 0.000000028, PORSCHE: 0.000000087, XIAOMISU7: 0.00000022, ROLEX: 0.00000085, MACBOOK: 0.0000068 },
                    MYR: { USD: 0.23, BTC: 0.0000036, ETH: 0.000088, SOL: 0.00105, BNB: 0.00036, CNY: 1.64, JPY: 34.2, KRW: 308, SGD: 0.31, AED: 0.85, HKD: 1.8, ZHUJIAO: 0.082, KFC: 0.033, IN11: 0.00055, IPHONE17: 0.000287, FERRARI: 0.00000094, PORSCHE: 0.00000296, XIAOMISU7: 0.0000076, ROLEX: 0.0000289, MACBOOK: 0.00023 },
                    SGD: { USD: 0.745, BTC: 0.0000115, ETH: 0.00028, SOL: 0.0034, BNB: 0.0011, CNY: 5.29, JPY: 110, KRW: 1000, AED: 2.74, HKD: 5.82, MYR: 3.2, ZHUJIAO: 0.26, KFC: 0.105, IN11: 0.00175, IPHONE17: 0.000931, FERRARI: 0.000003, PORSCHE: 0.0000096, XIAOMISU7: 0.000025, ROLEX: 0.0000937, MACBOOK: 0.000745 },
                    AED: { USD: 0.272, BTC: 0.0000042, ETH: 0.0001, SOL: 0.00123, BNB: 0.00042, CNY: 1.93, JPY: 40, KRW: 364, SGD: 0.36, HKD: 2.12, MYR: 1.17, ZHUJIAO: 0.099, KFC: 0.0385, IN11: 0.00064, IPHONE17: 0.00034, FERRARI: 0.0000011, PORSCHE: 0.000035, XIAOMISU7: 0.000089, ROLEX: 0.000342, MACBOOK: 0.000272 },
                    KRW: { USD: 0.00075, BTC: 0.0000000115, ETH: 0.00000028, SOL: 0.0000034, BNB: 0.00000115, CNY: 0.0053, JPY: 0.11, SGD: 0.001, AED: 0.0028, HKD: 0.0058, MYR: 0.0032, ZHUJIAO: 0.000378, KFC: 0.0001512, IN11: 0.0000025, IPHONE17: 0.00000094, FERRARI: 0.00000000031, PORSCHE: 0.00000000096, XIAOMISU7: 0.0000000025, ROLEX: 0.0000000094, MACBOOK: 0.00000075 },
                    ZHUJIAO: { USD: 2.82, BTC: 0.0000434, ETH: 0.00106, SOL: 0.0128, BNB: 0.00434, CNY: 20, JPY: 414, KRW: 3774, SGD: 3.78, AED: 10.35, HKD: 22, MYR: 12.1, KFC: 0.4, IN11: 0.0067, IPHONE17: 0.0035, FERRARI: 0.0000114, PORSCHE: 0.0000364, XIAOMISU7: 0.0000926, ROLEX: 0.00035, MACBOOK: 0.0028 },
                    KFC: { USD: 7.04, BTC: 0.000108, ETH: 0.00266, SOL: 0.032, BNB: 0.0108, CNY: 50, JPY: 1036, KRW: 9436, SGD: 9.44, AED: 25.88, HKD: 55, MYR: 30.3, ZHUJIAO: 2.5, IN11: 0.0167, IPHONE17: 0.0088, FERRARI: 0.0000286, PORSCHE: 0.0000909, XIAOMISU7: 0.000232, ROLEX: 0.00088, MACBOOK: 0.007 },
                    IN11: { USD: 422.5, BTC: 0.0065, ETH: 0.1594, SOL: 1.92, BNB: 0.65, CNY: 3000, JPY: 62125, KRW: 566000, SGD: 566.15, AED: 1551.5, HKD: 3297, MYR: 1816.75, ZHUJIAO: 150, KFC: 60, IPHONE17: 0.529, FERRARI: 0.00171, PORSCHE: 0.00545, XIAOMISU7: 0.0139, ROLEX: 0.053, MACBOOK: 0.423 },
                    IPHONE17: { USD: 799, BTC: 0.0123, ETH: 0.3017, SOL: 3.63, BNB: 1.23, CNY: 5673, JPY: 117453, KRW: 1070000, SGD: 1071, AED: 2932, HKD: 6232, MYR: 3436, ZHUJIAO: 284, KFC: 113.6, IN11: 1.89, FERRARI: 0.0036, PORSCHE: 0.0115, XIAOMISU7: 0.0297, ROLEX: 0.10, MACBOOK: 0.8 },
                    FERRARI: { USD: 246479, BTC: 3.79, ETH: 93, SOL: 1120, BNB: 379, CNY: 1750000, JPY: 36232353, KRW: 330000000, SGD: 330564, AED: 905237, HKD: 1923538, MYR: 1059859, ZHUJIAO: 87500, KFC: 35000, IN11: 583.3, IPHONE17: 308.5, PORSCHE: 3.18, XIAOMISU7: 8.11, ROLEX: 30.97, MACBOOK: 246.73 },
                    PORSCHE: { USD: 77465, BTC: 1.19, ETH: 29.2, SOL: 352, BNB: 119, CNY: 550000, JPY: 11389706, KRW: 103800000, SGD: 103922, AED: 284638, HKD: 604227, MYR: 333100, ZHUJIAO: 27500, KFC: 11000, IN11: 183.3, IPHONE17: 97, FERRARI: 0.314, XIAOMISU7: 2.55, ROLEX: 9.73, MACBOOK: 77.5 },
                    XIAOMISU7: { USD: 30408, BTC: 0.468, ETH: 11.47, SOL: 138.2, BNB: 46.8, CNY: 215900, JPY: 4470016, KRW: 40760000, SGD: 40767, AED: 111699, HKD: 237182, MYR: 130757, ZHUJIAO: 10795, KFC: 4318, IN11: 71.97, IPHONE17: 38.1, FERRARI: 0.123, PORSCHE: 0.393, ROLEX: 3.82, MACBOOK: 30.44 },
                    ROLEX: { USD: 7958, BTC: 0.122, ETH: 3.00, SOL: 36.17, BNB: 12.24, CNY: 56500, JPY: 1170026, KRW: 10660000, SGD: 10668, AED: 29229, HKD: 62072, MYR: 34220, ZHUJIAO: 2825, KFC: 1130, IN11: 18.83, IPHONE17: 9.96, FERRARI: 0.032, PORSCHE: 0.103, XIAOMISU7: 0.262, MACBOOK: 7.97 },
                    MACBOOK: { USD: 999, BTC: 0.0154, ETH: 0.377, SOL: 4.54, BNB: 1.54, CNY: 7092, JPY: 146853, KRW: 1338000, SGD: 1339, AED: 3667, HKD: 7792, MYR: 4297, ZHUJIAO: 355, KFC: 142, IN11: 2.36, IPHONE17: 1.25, FERRARI: 0.0041, PORSCHE: 0.013, XIAOMISU7: 0.033, ROLEX: 0.126 }
                };
            }
        }
        
        // å…ˆæ¢å¤çŠ¶æ€ï¼Œå†åŠ è½½API
        restoreState();
        
        // é¡µé¢åŠ è½½æ—¶è·å–æ±‡ç‡ï¼ŒåŠ è½½å®Œæˆåé‡æ–°è®¡ç®—
        loadRates().then(() => {
            // APIåŠ è½½å®Œæˆåï¼Œå¦‚æœæœ‰æ•°æ®å°±é‡æ–°è®¡ç®—ä¸€æ¬¡ä»¥è·å¾—æœ€æ–°æ±‡ç‡
            const hasData = Array.from({length: 6}, (_, i) => i + 1).some(i => 
                document.getElementById(`amount${i}`).value.trim() !== ''
            );
            if (hasData) {
                // APIåŠ è½½å®Œæˆåï¼Œä»¥æœ€åè¾“å…¥çš„æ ä½ä¸ºåŸºå‡†é‡æ–°è®¡ç®—
                const lastAmount = document.getElementById(`amount${lastInputField}`).value.trim();
                if (lastAmount !== '') {
                    console.log(`APIåŠ è½½å®Œæˆï¼Œä»¥æ ä½${lastInputField}ä¸ºåŸºå‡†é‡æ–°è®¡ç®—æœ€æ–°æ±‡ç‡`);
                    convert(lastInputField);
                }
            }
        });
        
        // ä¿å­˜çŠ¶æ€åˆ°æœ¬åœ°å­˜å‚¨
        function saveState() {
            const state = {};
            for (let i = 1; i <= 6; i++) {
                state[`amount${i}`] = document.getElementById(`amount${i}`).value;
                state[`currency${i}`] = document.getElementById(`currency${i}`).value;
            }
            state.lastInputField = lastInputField; // ä¿å­˜æœ€åè¾“å…¥çš„æ ä½
            localStorage.setItem('valueConverterState', JSON.stringify(state));
        }
        
        // ä»æœ¬åœ°å­˜å‚¨æ¢å¤çŠ¶æ€
        function restoreState() {
            const savedState = localStorage.getItem('valueConverterState');
            if (savedState) {
                try {
                    const state = JSON.parse(savedState);
                    for (let i = 1; i <= 6; i++) {
                        if (state[`amount${i}`]) {
                            document.getElementById(`amount${i}`).value = state[`amount${i}`];
                        }
                        if (state[`currency${i}`]) {
                            document.getElementById(`currency${i}`).value = state[`currency${i}`];
                        }
                    }
                    // æ¢å¤æœ€åè¾“å…¥çš„æ ä½
                    if (state.lastInputField) {
                        lastInputField = state.lastInputField;
                    }
                    console.log('çŠ¶æ€å·²æ¢å¤:', state);
                } catch (error) {
                    console.log('æ¢å¤çŠ¶æ€å¤±è´¥:', error);
                }
            }
        }
        
        function convert(sourceIndex) {
            if (updating) return;
            updating = true;
            
            const sourceAmount = document.getElementById(`amount${sourceIndex}`).value.replace(/,/g, '');
            const sourceCurrency = document.getElementById(`currency${sourceIndex}`).value;
            
            if (!sourceAmount || sourceAmount === '') {
                for (let i = 1; i <= 6; i++) {
                    if (i !== sourceIndex) {
                        document.getElementById(`amount${i}`).value = '';
                    }
                }
                updating = false;
                return;
            }
            
            const amount = parseFloat(sourceAmount);
            if (isNaN(amount)) {
                updating = false;
                return;
            }
            
            for (let i = 1; i <= 6; i++) {
                if (i !== sourceIndex) {
                    const targetCurrency = document.getElementById(`currency${i}`).value;
                    let result;
                    
                    if (sourceCurrency === targetCurrency) {
                        result = amount;
                    } else if (rates[sourceCurrency] && rates[sourceCurrency][targetCurrency]) {
                        result = amount * rates[sourceCurrency][targetCurrency];
                    } else {
                        result = 0;
                    }
                    
                    document.getElementById(`amount${i}`).value = result.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
                }
            }
            
            updating = false;
        }
        
        for (let i = 1; i <= 6; i++) {
            document.getElementById(`amount${i}`).addEventListener('input', () => {
                lastInputField = i; // æ›´æ–°æœ€åè¾“å…¥çš„æ ä½
                convert(i);
                saveState(); // ä¿å­˜çŠ¶æ€
            });
            document.getElementById(`currency${i}`).addEventListener('change', () => {
                // è´§å¸é€‰æ‹©å˜æ›´æ—¶ï¼Œä»¥æœ€åè¾“å…¥çš„æ ä½ä¸ºåŸºå‡†é‡æ–°è®¡ç®—
                convert(lastInputField);
                saveState(); // ä¿å­˜çŠ¶æ€
            });
        }
        
    </script>
    </div>
</body>
</html>